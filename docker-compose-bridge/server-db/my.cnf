[mysqld]
bind-address = 0.0.0.0
default-time-zone = 'America/Sao_Paulo'

# Character Set
character-set-server = utf8mb4
collation-server = utf8mb4_bin

# Connections
max_connections = 1000
skip-name-resolve

# InnoDB Optimization
innodb_buffer_pool_size = 2G
innodb_log_file_size = 256M
innodb_flush_method = O_DIRECT
innodb_flush_log_at_trx_commit = 2
innodb_io_capacity = 2000
innodb_buffer_pool_instances = 2

# Caching
query_cache_type = 0  # Desativado para MySQL 8+
query_cache_size = 0
table_open_cache = 4000
tmp_table_size = 64M
max_heap_table_size = 64M

# Log Settings
log-error = /var/log/mysql/error.log
slow_query_log = 1
slow_query_log_file = /var/log/mysql/mysql-slow.log
long_query_time = 2

# Performance Schema
performance_schema = ON

# Networking
max_allowed_packet = 64M
net_buffer_length = 16K
